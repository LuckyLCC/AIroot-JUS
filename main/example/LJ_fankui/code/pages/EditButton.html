<!-- 编辑按钮 -->
<css>
	body{
		display:flex;
		align-items:center;
		background-position:center center;
		background-repeat:no-repeat;
		
		background-size:20px 20px;
		width:36px;
		height:36px;
	}
</css>
<div class="edit" style="background-image:url(img/icon/pen.png);"></div>
<script>
	public var onEdit = null;
	public var onSave = null;
	public var onCancel = null;
	private var flag = false;
	private var _self = $(dom);
	function init(){
		_self.click(function(){toggle()});	
	}
	
	function toggle(){
		if(arguments.length>0){
			flag = arguments[0];
		}
		if(flag){
			if(onSave){
				if(!onSave()){
					return;
				}
			}
			dom.innerHTML = "";
			dom.style.backgroundImage = "url(img/icon/pen.png)";
		}else{
			dom.innerHTML = "<div>保存</div>";
			dom.style.backgroundImage = "";
			if(onEdit){
				onEdit();
			}
		}
		flag = !flag;
	}
	
	
	
	function cancel(){
		flag = false;
		dom.innerHTML = "";
		dom.style.backgroundImage = "url(img/icon/pen.png)";
		if(onCancel){
			onCancel();
		}
	}	
	
	
</script>